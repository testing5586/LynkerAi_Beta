请帮我在 Lynker Master AI 项目中自动创建并同步 Supabase 云端表 child_ai_insights。

──────────────────────────────
🧱 任务目标
──────────────────────────────
1️⃣ 检测 Supabase 连接状态
2️⃣ 若不存在 child_ai_insights 表 → 自动执行创建语句
3️⃣ 若表已存在 → 输出确认 ✅
4️⃣ 测试插入与读取逻辑，确保云端写入成功

──────────────────────────────
📋 Supabase 表结构
──────────────────────────────
CREATE TABLE IF NOT EXISTS public.child_ai_insights (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id TEXT NOT NULL,
  partner_id TEXT NOT NULL,
  similarity FLOAT,
  shared_tags JSONB,
  insight_text TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 性能优化索引
CREATE INDEX IF NOT EXISTS idx_child_ai_user_id ON public.child_ai_insights (user_id);
CREATE INDEX IF NOT EXISTS idx_child_ai_partner_id ON public.child_ai_insights (partner_id);
CREATE INDEX IF NOT EXISTS idx_child_ai_similarity ON public.child_ai_insights (similarity);

──────────────────────────────
⚙️ 执行逻辑
──────────────────────────────
1️⃣ 在 supabase_init.py 中增加检测逻辑：
def ensure_child_ai_insights_table(supabase):
    """检查或创建 child_ai_insights 表"""
    try:
        result = supabase.table("child_ai_insights").select("*").limit(1).execute()
        print("✅ Table 'child_ai_insights' already exists.")
    except Exception:
        print("🛠️ Creating table 'child_ai_insights' in Supabase...")
        ddl = '''
        CREATE TABLE IF NOT EXISTS public.child_ai_insights (
            id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
            user_id TEXT NOT NULL,
            partner_id TEXT NOT NULL,
            similarity FLOAT,
            shared_tags JSONB,
            insight_text TEXT,
            created_at TIMESTAMP DEFAULT NOW()
        );
        CREATE INDEX IF NOT EXISTS idx_child_ai_user_id ON public.child_ai_insights (user_id);
        CREATE INDEX IF NOT EXISTS idx_child_ai_partner_id ON public.child_ai_insights (partner_id);
        CREATE INDEX IF NOT EXISTS idx_child_ai_similarity ON public.child_ai_insights (similarity);
        '''
        supabase.postgrest.rpc("exec_sql", {"sql": ddl}).execute()
        print("✅ Table 'child_ai_insights' created successfully!")

2️⃣ 在 main.py 启动时调用：
from supabase_init import ensure_child_ai_insights_table
ensure_child_ai_insights_table(supabase_client)

3️⃣ 测试命令：
python3 -c "from supabase_init import get_supabase, ensure_child_ai_insights_table; s=get_supabase(); ensure_child_ai_insights_table(s)"

──────────────────────────────
🎯 预期结果
──────────────────────────────
运行后，输出：
🔗 Connected to Supabase!
✅ Table 'child_ai_insights' created successfully!
或：
✅ Table 'child_ai_insights' already exists.

──────────────────────────────
🧪 验证
──────────────────────────────
执行：
python child_ai_insight.py

预期输出：
🔗 Connected to Supabase!
✅ Table 'child_ai_insights' already exists.
💫 你与 u_test1 的命理相似度为 0.911。
📋 共同特征：设计行业、晚婚、母缘浅。
🔮 → 命格高度共振，彼此能深刻理解。
