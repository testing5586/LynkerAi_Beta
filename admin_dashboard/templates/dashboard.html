<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lynker Superintendent Command Center</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
<div class="sidebar">
    <h2>ğŸ§  LSCC</h2>
    <p class="sidebar-subtitle">Lynker Superintendent<br>Command Center</p>
    <ul>
        <li><a href="/dashboard" class="active">ğŸ“Š Dashboard</a></li>
        <li><a href="/chatroom">ğŸ’¬ AI åä½œèŠå¤©</a></li>
    </ul>
</div>

<div class="main">
    <h1>Superintendent æ§åˆ¶é¢æ¿</h1>
    <p class="timestamp">æ›´æ–°æ—¶é—´: {{ data.timestamp }}</p>
    
    <div class="stats-grid">
        <div class="card">
            <h3>{{ data.master_status }}</h3>
            <p class="label">Master AI çŠ¶æ€</p>
        </div>
        <div class="card">
            <h3>{{ data.group_leaders }}</h3>
            <p class="label">Group Leaders</p>
        </div>
        <div class="card">
            <h3>{{ data.child_ai }}</h3>
            <p class="label">Child AI æ•°é‡</p>
        </div>
        <div class="card">
            <h3>{{ data.token_today }}</h3>
            <p class="label">ä»Šæ—¥ Token æ¶ˆè€—</p>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ“Š æ•°æ®åº“ç»Ÿè®¡</h3>
        <div class="db-stats">
            <div class="stat-item">
                <span class="stat-label">Master Vault æ¡ç›®:</span>
                <span class="stat-value">{{ data.vault_entries }}</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">å‘½ç›˜æ€»æ•°:</span>
                <span class="stat-value">{{ data.charts_total }}</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">é¢„æµ‹æ€»æ•°:</span>
                <span class="stat-value">{{ data.predictions_total }}</span>
            </div>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ“ˆ Token æ¶ˆè€—è¶‹åŠ¿</h3>
        <div id="tokenChart" style="width:100%;height:300px;"></div>
    </div>

    <div class="card">
        <h3>ğŸ” æœ€æ–°å‘½ç†è§„å¾‹å‘ç°</h3>
        <ul class="findings-list">
            {% for finding in data.new_findings %}
            <li>{{ finding }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

<script>
    var trace = {
        x: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
        y: [5000, 5200, 5100, 5321, 5400, 5500, 5600],
        type: 'scatter',
        mode: 'lines+markers',
        marker: { color: '#61dafb', size: 8 },
        line: { color: '#61dafb', width: 3 }
    };
    
    var layout = {
        title: '',
        xaxis: { title: 'æ—¥æœŸ' },
        yaxis: { title: 'Token æ•°é‡' },
        paper_bgcolor: 'rgba(0,0,0,0)',
        plot_bgcolor: 'rgba(0,0,0,0)',
        font: { family: 'Microsoft YaHei, sans-serif' }
    };
    
    Plotly.newPlot('tokenChart', [trace], layout, {responsive: true});
</script>
</body>
</html>
